{"version":3,"sources":["panels/ListItem.js","panels/ListGroup.js","panels/ListMain.js","panels/Vkpay.js","helpers/requestMethod.js","App.js","index.js","panels/ListUsers.module.sass"],"names":["ListItem","idItem","first_name","last_name","avatar","price","pay","urlUser","idVk","className","styles","div","listNumber","listName","before","src","description","href","id","button","level","onClick","ListGroup","name","go","urlGroup","idVkGroup","data-to","ListMain","tabUsers","tabGroups","activeTab","dataUsers","test","dataGroups","renderUsers","map","item","id_vk","renderGroups","id_group","vertical","theme","type","selected","title","Vkpay","onChangeHandlerInput","reg","payGroups","left","top","onChange","status","bottom","size","requestMethod","method","$_GET","window","location","search","replace","split","reduce","p","e","a","decodeURIComponent","apiRequest","params","accessToken","successCallback","undefined","errorCallback","requestId","Math","floor","random","Number","MAX_SAFE_INTEGER","toString","clb","vkEvent","detail","data","found","connect","unsubscribe","console","error","subscribe","send","axios","defaults","App","useState","activePanel","setActivePanel","fetchedUser","setUser","paymentStatus","setPaymentStatus","setActiveTab","input","setInput","setDataUsers","setDataGroups","token","setToken","setReg","targetIdGroup","setTargetIdGroup","priceIdGroup","setPriceIdGroup","popout","setPopout","preventDefault","targetId","currentTarget","targetIdVk","priceId","log","sendPromise","then","res","result","get","du","catch","useEffect","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","keys","async","user","length","arr","i","response","items","push","vkUsers","join","fields","resdataVK","finishVkUser","find","err","vkGroups","resdataVK1","finishGroups","fetchData","activePan","dataset","to","valueSlice","target","trim","slice","object_id","inputValue","getNameGroup","getPhotoGroup","photo_200","gu","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d4095bb6.chunk.js","sourcesContent":["import React from 'react';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport styles from \"./ListUsers.module.sass\";\r\n\r\nconst ListItem = ({idItem,first_name,last_name,avatar,price,pay,idVk}) => {\r\nconst urlUser = 'https://vk.com/id' + idVk;\r\n    return (\r\n        <Div className={styles.div}>\r\n            <span className={styles.listNumber}>{idItem}</span>\r\n            <Cell\r\n                className={styles.listName}\r\n                before={avatar ? <Avatar src={avatar}/> : <Avatar src='https://vk.com/images/camera_200.png'/>}\r\n                description={'Цена: ' + price + ' руб'}\r\n                href={urlUser}\r\n            >\r\n                {first_name ? first_name + \" \" + last_name : \"Место для тебя\"}\r\n            </Cell>\r\n\r\n            <Button id={idItem} className={styles.button} level=\"commerce\" onClick={pay}>\r\n                Занять место\r\n            </Button>\r\n        </Div>\r\n    );\r\n};\r\n\r\nexport default ListItem;\r\n","import React from 'react';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport styles from \"./ListUsers.module.sass\";\r\n\r\nconst ListGroup = ({idItem, avatar, price, name, go, idVkGroup}) => {\r\n\r\n    const urlGroup = 'https://vk.com/public' + idVkGroup;\r\n\r\n    return (\r\n        <Div className={styles.div}>\r\n            <span className={styles.listNumber}>{idItem}</span>\r\n            <Cell\r\n                className={styles.listName}\r\n                before={avatar ? <Avatar src={avatar}/> : <Avatar src='https://vk.com/images/camera_200.png'/>}\r\n                description={'Цена: ' + price + ' руб'}\r\n                href={urlGroup}\r\n            >\r\n                {name ? name : \"Место для группы\"}\r\n            </Cell>\r\n            <Button id={idItem} className={styles.button} level=\"commerce\" onClick={go} data-to=\"vkpay\">\r\n                Занять место\r\n            </Button>\r\n        </Div>\r\n    );\r\n};\r\n\r\nexport default ListGroup;\r\n\r\n\r\n\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout';\nimport Tabs from '@vkontakte/vkui/dist/components/Tabs/Tabs';\nimport TabsItem from '@vkontakte/vkui/dist/components/TabsItem/TabsItem';\nimport HorizontalScroll from '@vkontakte/vkui/dist/components/HorizontalScroll/HorizontalScroll';\nimport PanelHeaderBack from \"@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack\";\nimport ListItem from './ListItem';\nimport ListGroup from './ListGroup';\n\nconst ListMain = ({id, go,pay,tabUsers,tabGroups,activeTab,dataUsers,test,dataGroups}) => {\n    const renderUsers = dataUsers.map(item => {\n        return (\n            <ListItem\n                idItem={item.id}\n                idVk={item.id_vk}\n                avatar={item.avatar}\n                price={item.price}\n                pay={pay}\n                first_name={item.first_name}\n                last_name={item.last_name}\n                test={test}\n            />\n        );\n    });\n\n    const renderGroups = dataGroups.map(item => {\n        return (\n            <ListGroup\n                idItem={item.id}\n                avatar={item.avatar}\n                price={item.price}\n                go={go}\n                name={item.name}\n                idVkGroup={item.id_group}\n\n            />\n        );\n    });\n\n    return (\n        <Panel id={id}>\n            <PanelHeader>\n                Рейтинг лидеров\n            </PanelHeader>\n            <FixedLayout vertical=\"top\">\n                <Tabs theme=\"header\" type=\"buttons\">\n                    <HorizontalScroll>\n                        <TabsItem\n                            onClick={tabUsers}\n                            selected={activeTab === 'users'}\n                        >\n                            Люди\n                        </TabsItem>\n                        <TabsItem\n                            onClick={tabGroups}\n                            selected={activeTab === 'groups'}\n                        >\n                            Сообщества\n                        </TabsItem>\n                    </HorizontalScroll>\n                </Tabs>\n            </FixedLayout>\n\n            {activeTab === 'users'\n                ?\n                <Group title=\"default\"\n                       description=\"Каждое место покупается на 14 дней.При каждой повторной покупке места,\n                       стоимость увеличивается на коэффициент - 1,1 и добавляется + 3 дня к времени пребывания в рейтинге.\">\n                    <List>\n                        {renderUsers}\n                    </List>\n                </Group>\n                :\n                ''\n            }\n\n            {activeTab === 'groups'\n                ?\n                <Group title=\"default\"\n                       description=\"Каждое место покупается на 14 дней.При каждой повторной покупке места,\n                       стоимость увеличивается на коэффициент - 1,1 и добавляется + 3 дня к времени пребывания в рейтинге.\n                       Выше стоимость места - длительнее время пребывания в рейтинге.\">\n                    <List>\n                        {renderGroups}\n                    </List>\n                </Group>\n                :\n                ''\n            }\n        </Panel>\n\n\n    );\n};\nListMain.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired,\n    fetchedUser: PropTypes.shape({\n        photo_200: PropTypes.string,\n        first_name: PropTypes.string,\n        last_name: PropTypes.string,\n        city: PropTypes.shape({\n            title: PropTypes.string,\n        }),\n    }),\n};\n\nexport default ListMain;\n\n\n","import React, {useState, useEffect} from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Input from '@vkontakte/vkui/dist/components/Input/Input';\r\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\r\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\r\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\r\nimport PanelHeaderBack from \"@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack\";\r\n\r\nconst Vkpay = ({id,go,onChangeHandlerInput,reg,payGroups}) => {\r\n\r\n    return (\r\n        <Panel id={id} theme=\"white\">\r\n            <PanelHeader left={<PanelHeaderBack onClick={go} data-to=\"list\"/>}\r\n            >Оплата\r\n            </PanelHeader>\r\n            <Div>\r\n                <Div>Оплата через VK Pay</Div>\r\n                <FormLayout>\r\n                    <Input\r\n                        top=\"Введите ссылку на группу\"\r\n                        onChange={onChangeHandlerInput}\r\n                        status={reg ? 'valid' : 'error'}\r\n                        bottom={reg ? 'Ссылка на группу введена верно!' : 'Ссылка введена неверно'}\r\n                    >\r\n                    </Input>\r\n\r\n                    <Button size=\"xl\" onClick={payGroups}>\r\n                        Оплатить\r\n                    </Button>\r\n                </FormLayout>\r\n            </Div>\r\n        </Panel>\r\n    );\r\n};\r\n\r\nexport default Vkpay;\r\n","function requestMethod(method) {\r\n    return \"https://rating01.ru/api/\" + method;\r\n    // return \"https://rating.local/api/\" + method;\r\n}\r\n\r\nexport default requestMethod;","import React, {useState, useEffect} from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport axios from \"axios\";\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\n\n\nimport ListMain from './panels/ListMain';\nimport Vkpay from './panels/Vkpay';\n\nimport requestMethod from './helpers/requestMethod';\n\nconst targetIdGroup = 0;\nconst priceIdGroup = 0;\n\nlet $_GET = window\n    .location\n    .search\n    .replace('?', '')\n    .split('&')\n    .reduce(\n        function (p, e) {\n            let a = e.split('=');\n            p[decodeURIComponent(a[0])] = decodeURIComponent(a[1]);\n            return p;\n        },\n        {}\n    );\n\naxios.defaults.params = {\n    ...$_GET\n};\n\nfunction getNewRequestId() {\n    if (process.env.NODE_ENV === 'production') {\n        return (Math.floor(Math.random() * Number.MAX_SAFE_INTEGER)).toString();\n    } else {\n        return \"111\"\n    }\n}\n\nexport function apiRequest(method, params = {}, accessToken = '', successCallback = undefined, errorCallback = undefined) {\n    let requestId = getNewRequestId();\n    if (successCallback !== undefined || errorCallback !== undefined) {\n        let clb = function callback(e) {\n            let vkEvent = e.detail;\n            if (!vkEvent) {\n                console.error('invalid event', e);\n                return;\n            }\n\n            let type = vkEvent['type'];\n            let data = vkEvent['data'];\n\n            let found = false;\n            if ('VKWebAppCallAPIMethodResult' === type && data['request_id'] === requestId) {\n                if (successCallback !== undefined) {\n                    successCallback(data['response']);\n                }\n                found = true;\n            } else if ('VKWebAppCallAPIMethodFailed' === type && data['request_id'] === requestId) {\n                if (errorCallback !== undefined) {\n                    errorCallback(data);\n                }\n                found = true;\n            }\n            if (found) {\n                connect.unsubscribe(clb);\n            }\n        };\n        connect.subscribe(clb);\n    }\n\n    params['access_token'] = accessToken;\n\n    if (params['v'] === undefined) {\n        params['v'] = 5.103;\n    }\n\n    connect.send('VKWebAppCallAPIMethod', {\n        'method': method,\n        'params': params,\n        'request_id': requestId\n    });\n}\n\nconst App = () => {\n    const [activePanel, setActivePanel] = useState('list');\n    const [fetchedUser, setUser] = useState(null);\n    const [paymentStatus, setPaymentStatus] = useState(false);\n    const [activeTab, setActiveTab] = useState('users');\n    const [input, setInput] = useState('');\n    const [dataUsers, setDataUsers] = useState([]);\n    const [dataGroups, setDataGroups] = useState([]);\n    const [token, setToken] = useState(null);\n    const [reg, setReg] = useState(false);\n    const [targetIdGroup, setTargetIdGroup] = useState(0);\n    const [priceIdGroup, setPriceIdGroup] = useState(0);\n    const [popout, setPopout] = useState(<ScreenSpinner size='large'/>);\n\n    useEffect(() => {\n        connect.subscribe(({detail: {type, data}}) => {\n            if (type === 'VKWebAppUpdateConfig') {\n                const schemeAttribute = document.createAttribute('scheme');\n                schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n                document.body.attributes.setNamedItem(schemeAttribute);\n            }\n        });\n\n        async function fetchData() {\n            const user = await connect.sendPromise('VKWebAppGetUserInfo');\n            setUser(user);\n            setPopout(null);\n            const token = await connect.sendPromise('VKWebAppGetAuthToken', {'app_id': 7217737, 'scope': ''});\n            setToken(token['access_token']);\n\n            if (!dataUsers.length) {\n                axios.get(requestMethod(\"list.getUsers\"), {})\n                    .then(res => {\n                        if (res.data.error) { // вывод ошибки если пришли неполные данные\n                            console.log('ОШИБКА ДАННЫХ USERS:', res.data.error);\n                            return;\n                        }\n                        let arr = [];\n                        for (let i = 0; i < res.data.response.items.length; i++) {\n                            if (res.data.response.items[i]['id_vk']) {\n                                arr.push(res.data.response.items[i]['id_vk']);\n\n                            }\n                            console.log('arrUsers:', arr);\n                        }\n\n                        let vkUsers = [];\n                        apiRequest('users.get', {\n                            \"user_ids\": arr.join(),\n                            fields: \"photo_200\"\n                        }, token['access_token'], resdataVK => {\n                            vkUsers = resdataVK;\n                            console.log(resdataVK);\n\n                            // Запрос к API\n                            for (let i = 0; i < res.data.response.items.length; i++) {\n                                let finishVkUser = vkUsers.find((e) => +e.id === +res.data.response.items[i]['id_vk']);\n                                console.log(finishVkUser);\n                                if (finishVkUser) {\n                                    res.data.response.items[i]['first_name'] = finishVkUser['first_name'];\n                                    res.data.response.items[i]['last_name'] = finishVkUser['last_name'];\n                                    res.data.response.items[i]['avatar'] = finishVkUser['photo_200'];\n                                }\n                            }\n                            console.log(res.data.response.items);\n                            setDataUsers(res.data.response.items);\n                        }, err => {\n                            console.log(err);\n                        });\n                        console.log('dataUsers: ', dataUsers);   // выводит список\n                    }).catch(error => {\n                    console.log(error);\n                });\n            }\n\n            axios.get(requestMethod(\"list.getGroups\"), {})\n                .then(res => {\n                    if (res.data.error) { // вывод ошибки если пришли неполные данные\n                        console.log('ОШИБКА ДАННЫХ ГРУПП:', res.data.error);\n                        return;\n                    }\n\n\n                    let arr = [];\n                    for (let i = 0; i < res.data.response.items.length; i++) {\n                        if (res.data.response.items[i]['id_group']) {\n                            arr.push(res.data.response.items[i]['id_group']);\n                        }\n                    }\n                    if (arr.length === 0) {\n                        setDataGroups(res.data.response.items);\n                        console.log('arrGroups:', arr);\n                    } else {\n                        let vkGroups = [];\n                        apiRequest('groups.getById', {\n                            \"group_ids\": arr.join(),\n                            fields: \"photo_200\"\n                        }, token['access_token'], resdataVK1 => {\n                            vkGroups = resdataVK1;\n                            console.log(resdataVK1);\n\n                            // Запрос к API\n                            for (let i = 0; i < res.data.response.items.length; i++) {\n                                let finishGroups = vkGroups.find((e) => +e.id === +res.data.response.items[i]['id_group']);\n                                console.log(finishGroups);\n                                if (finishGroups) {\n                                    res.data.response.items[i]['name'] = finishGroups['name'];\n                                    res.data.response.items[i]['avatar'] = finishGroups['photo_200'];\n                                }\n                            }\n                            setDataGroups(res.data.response.items);\n                        }, err => {\n                            console.log(err);\n                        });\n                        console.log('dataGroups: ', dataGroups);   // выводит список\n                    }\n                }).catch(error => {\n                console.log(error);\n            });\n\n        }\n\n        connect.sendPromise('VKWebAppStorageGet',\n            {\n                'keys': ['ActiveTab']\n            })\n            .then((res) => {\n                setActiveTab(res.keys[0].value);\n                // console.log('tabUsers: ', res);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\n        fetchData();\n    }, []);\n\n\n    function pay(e) {\n        e.preventDefault();\n        const targetId = e.currentTarget.id - 1;\n        const targetIdVk = fetchedUser.id;\n        const priceId = dataUsers[targetId]['price'];\n        console.log('targetId: ', targetId);\n        console.log('targetIdVk: ', targetIdVk);\n        console.log('dataUsers: ', dataUsers);\n\n        connect.sendPromise('VKWebAppOpenPayForm', {\n            \"app_id\": 7217737,\n            \"action\": \"pay-to-group\",\n            \"params\": {\n                \"amount\": priceId,\n                \"group_id\": 189974647\n            }\n        }).then(res => {\n            console.log('RES_USERS:', res);\n            if (res.status || res.result.status) {\n                setPaymentStatus(true);\n                console.log('ОПЛАТА ПРОШЛА 1');\n\n                axios.get(requestMethod(\"list.updateUsersList\"), {\n                    params: {\n                        id: targetId + 1,\n                        id_vk: targetIdVk\n                    }\n                }).then(res => {\n                    if (res.data.error) { // вывод ошибки если пришли неполные данные\n                        console.log(res.data.error);\n                        return;\n                    }\n                    console.log('Id_Users_updateUsersList:', targetIdVk);\n                    setActivePanel('list');\n                    console.log('ОПЛАТА ПРОШЛА: 2', dataUsers);   // выводит список\n\n\n                    let du = [...dataUsers];\n                    du[targetId] = {\n                        ...du[targetId],\n                        'id_vk': fetchedUser['id'],\n                        'first_name': fetchedUser['first_name'],\n                        'last_name': fetchedUser['last_name'],\n                        'avatar': fetchedUser['photo_200'],\n                    };\n                    setDataUsers(du);\n\n                }).catch(error => {\n                    console.log(error);\n                });\n            }\n            console.log(res.status); // работает\n        }).catch(error => {\n            console.log(error);\n        });\n    }\n\n    function payGroups(e) {\n        e.preventDefault();\n        const inputValue = input;\n\n        if (reg) {\n            connect.sendPromise('VKWebAppOpenPayForm', {\n                \"app_id\": 7217737,\n                \"action\": \"pay-to-group\",\n                \"params\": {\n                    \"amount\": priceIdGroup,\n                    \"group_id\": 189974647\n                }\n            }).then(res => {\n                if (res.status || res.result.status) {\n                    setPaymentStatus(true);\n                    console.log('ОПЛАТА ПРОШЛА 1');\n                    axios.get(requestMethod(\"list.updateGroupsList\"), {\n                        params: {\n                            id: targetIdGroup + 1,\n                            id_group: inputValue\n                        }\n                    }).then(res => {\n                        if (res.data.error) { // вывод ошибки если пришли неполные данные\n                            console.log(res.data.error);\n                            return;\n                        }\n                        console.log('Id_Group_updateGroupsList:', input);\n                        setActivePanel('list');\n                        console.log('ОПЛАТА ПРОШЛА: 2', dataGroups);   // выводит список\n\n\n                    }).catch(error => {\n                        console.log(error);\n                    });\n                    connect.sendPromise(\"VKWebAppCallAPIMethod\",\n                        {\n                            \"method\": \"groups.getById\",\n                            \"request_id\": \"1\",\n                            \"params\":\n                                {\n                                    \"group_id\": inputValue,\n                                    \"v\": \"5.103\",\n                                    \"access_token\": token\n                                }\n                        }).then(res => {\n                        console.log('res:', res);\n                        const getNameGroup = res.response[0].name;\n                        const getPhotoGroup = res.response[0].photo_200;\n\n                        let gu = [...dataGroups];\n                        gu[targetIdGroup] = {\n                            ...gu[targetIdGroup],\n                            'id_group': inputValue,\n                            'name': getNameGroup,\n                            'avatar': getPhotoGroup,\n                        };\n                        console.log('NAME:', getNameGroup);\n                        console.log('AVATAR:', getPhotoGroup);\n                        console.log('gu:', gu);\n                        setDataGroups(gu);\n\n                    }).catch(error => {\n                        console.log(error);\n                    });\n\n                }\n                console.log(res.status); // работает\n            }).catch(error => {\n                console.log(error);\n            });\n        } else {\n            console.log('ссылка на группу - некорректная', reg)\n        }\n    }\n\n    async function tabUsers() {\n        connect.sendPromise(\"VKWebAppStorageSet\",\n            {\n                \"key\": \"ActiveTab\",\n                \"value\": \"users\"\n            })\n            .then(() => {\n                connect.sendPromise('VKWebAppStorageGet',\n                    {\n                        'keys': ['ActiveTab']\n                    })\n                    .then((res) => {\n                        setActiveTab(res.keys[0].value);\n                    })\n                    .catch((error) => {\n                        console.log(error);\n                    });\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n    }\n\n    async function tabGroups() {\n        connect.sendPromise(\"VKWebAppStorageSet\",\n            {\n                \"key\": \"ActiveTab\",\n                \"value\": \"groups\"\n            })\n            .then(() => {\n                connect.sendPromise('VKWebAppStorageGet',\n                    {\n                        'keys': ['ActiveTab']\n                    })\n                    .then((res) => {\n                        setActiveTab(res.keys[0].value);\n                    })\n                    .catch((error) => {\n                        console.log(error);\n                    });\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n    }\n\n    const go = e => {\n        e.preventDefault();\n        const activePan = e.currentTarget.dataset.to;\n        setActivePanel(activePan);\n        setReg(false);\n\n        let id = e.currentTarget.id - 1;\n        setTargetIdGroup(id);\n        console.log('ID ДО', id);\n        setPriceIdGroup(dataGroups[id]['price']);\n        console.log('ЦЕНА ПОСЛЕ', priceIdGroup);\n\n    };\n\n    function onChangeHandlerInput(e) {\n        const value = e.target.value.trim();\n        // const reg = /^https:\\/\\/vk\\.com\\/(?!id\\d)[^\\/]*$/;\n        // const regValue = reg.test(value);\n        const valueSlice = value.slice(15);\n\n        connect.sendPromise(\"VKWebAppCallAPIMethod\",\n            {\n                \"method\": \"utils.resolveScreenName\",\n                \"request_id\": \"1\",\n                \"params\":\n                    {\n                        \"screen_name\": valueSlice,\n                        \"v\": \"5.103\",\n                        \"access_token\": token\n                    }\n            }).then(res => {\n            if (res.response.object_id === undefined) {\n                setReg(false);\n            } else {\n                setInput(res.response.object_id);\n                setReg(true);\n            }\n            console.log(res.response.object_id);\n        }).catch(error => {\n            console.log(error);\n        });\n        console.log('valueSlice: ', valueSlice);\n    }\n\n    return (\n        <View activePanel={activePanel} popout={popout}>\n            <ListMain id='list'\n                      fetchedUser={fetchedUser}\n                      go={go}\n                      pay={pay}\n                      paymentStatus={paymentStatus}\n                      activeTab={activeTab}\n                      tabUsers={tabUsers}\n                      tabGroups={tabGroups}\n                      dataUsers={dataUsers}\n                      dataGroups={dataGroups}\n            />\n            <Vkpay id='vkpay'\n                   go={go}\n                   pay={pay}\n                   onChangeHandlerInput={onChangeHandlerInput}\n                   reg={reg}\n                   payGroups={payGroups}\n            />\n        </View>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ListUsers_button__3jVmk\",\"div\":\"ListUsers_div__1sDxj\",\"listNumber\":\"ListUsers_listNumber__29dNQ\",\"listName\":\"ListUsers_listName__1YKFp\"};"],"sourceRoot":""}